'use strict';function _0x5624(){const _0xefb49a=['dky','push','50%','translate','prevGameHeight','rgba(0,\x200,\x200,\x200)','shadowOffsetX','xMouseInit','reverse','gameCanvas','mousedown','boxShadow','classList','limitRectangle','918003lEeAnJ','scalex','leave','forPuzzle','createElement','indexOf','addEventListener','rgba(0,\x200,\x200,\x200.5)','contHeight','scaledPoints','reversed','canvas','ppXInit','top','16rHxQCI','srcImageLoaded','evaluateZIndex','pieces','CANVAS','ifNear','block','finished','prevGameWidth','drawPath','min','distance','items','strokeStyle','pathname','left','6yusAOs','scale','moving','pointOnRelative','polyPieces','spreadInRectangle','ppYInit','points','hypot','#menu\x20li','add','yMouseInit','shadowColor','preventDefault','5576930NZLTQW','width','dConnect','bezierCurveTo','slice','fillStyle','click','img','restore','merge','shift','isPointInPath','srcImage','setAttribute','event','clip','getContainerSize','value','getComputedStyle','nbpieces','type','touch','embossThickness','path','transform','style','mouseup','/fullcpgrid/','readAsDataURL','35PhIPxV','container','display','puzzle','prevHeight','defineShapes','nbPieces','reset','random','max','lineWidth','contWidth','listLoops','4px\x204px\x204px\x20rgba(0,\x200,\x200,\x200.5)','opened','drawImage','sort','8067272efxwKr','move','height','ctx','autoStart','imageLoaded','naturalHeight','rgba(255,\x20255,\x20255,\x200.35)','pckymax','gameWidth','pckymin','map','pckxmax','spreadSetInRectangle','fill','position','21824990XhfJAj','pop','prevWidth','zIndex','create','innerHTML','absolute','scaley','tbLoops','pckxmin','stroke','gameCtx','undefined','rgba(0,\x200,\x200,\x200.35)','string','open','relativeMouseCoordinates','naturalWidth','copy','splice','appendChild','shape','accept','113491hhQsyw','clientY','58712aixYEM','oops,\x20unknown\x20state\x20','none','gameHeight','src','getContext','load','querySelectorAll','9XgzBFP','moveTo','getElementById','element','moveToInitialPlace','dkx','relativeHeight','edge','resize','closePath','forEach','touches','length','getBoundingClientRect','input','clientX','computenxAndny','save','offsy','change','close','optimInitial','abs','offsx','4563060SPRVod'];_0x5624=function(){return _0xefb49a;};return _0x5624();}const _0x25a489=_0x57ac;(function(_0x1ef4a4,_0x214942){const _0x261f2a=_0x57ac,_0x4f1b0e=_0x1ef4a4();while(!![]){try{const _0x3e4583=parseInt(_0x261f2a(0x1f2))/0x1*(-parseInt(_0x261f2a(0x17a))/0x2)+parseInt(_0x261f2a(0x1a9))/0x3*(parseInt(_0x261f2a(0x1b7))/0x4)+-parseInt(_0x261f2a(0x19a))/0x5+parseInt(_0x261f2a(0x1c7))/0x6*(-parseInt(_0x261f2a(0x22a))/0x7)+-parseInt(_0x261f2a(0x203))/0x8+parseInt(_0x261f2a(0x182))/0x9*(parseInt(_0x261f2a(0x1d5))/0xa)+parseInt(_0x261f2a(0x213))/0xb;if(_0x3e4583===_0x214942)break;else _0x4f1b0e['push'](_0x4f1b0e['shift']());}catch(_0x1bdfca){_0x4f1b0e['push'](_0x4f1b0e['shift']());}}}(_0x5624,0xc3945));let puzzle,autoStart;const mhypot=Math[_0x25a489(0x1cf)],mrandom=Math[_0x25a489(0x1fa)],mmax=Math[_0x25a489(0x1fb)],mmin=Math[_0x25a489(0x1c1)],mround=Math['round'],mfloor=Math['floor'],msqrt=Math['sqrt'],mabs=Math[_0x25a489(0x198)];function isMiniature(){const _0x4b73cf=_0x25a489;return location[_0x4b73cf(0x1c5)]['includes'](_0x4b73cf(0x1f0));}function alea(_0x4cad46,_0x1cddeb){const _0x25026f=_0x25a489;if(typeof _0x1cddeb==_0x25026f(0x21f))return _0x4cad46*mrandom();return _0x4cad46+(_0x1cddeb-_0x4cad46)*mrandom();}function intAlea(_0x55abfc,_0x5c57d1){const _0x3f0dac=_0x25a489;return typeof _0x5c57d1==_0x3f0dac(0x21f)&&(_0x5c57d1=_0x55abfc,_0x55abfc=0x0),mfloor(_0x55abfc+(_0x5c57d1-_0x55abfc)*mrandom());}function arrayShuffle(_0x8abb35){let _0x431818,_0x2879dd;for(let _0x3b1b11=_0x8abb35['length']-0x1;_0x3b1b11>=0x1;--_0x3b1b11){_0x431818=intAlea(0x0,_0x3b1b11+0x1),_0x2879dd=_0x8abb35[_0x3b1b11],_0x8abb35[_0x3b1b11]=_0x8abb35[_0x431818],_0x8abb35[_0x431818]=_0x2879dd;}return _0x8abb35;}class Point{constructor(_0x57c37f,_0x5d6110){this['x']=Number(_0x57c37f),this['y']=Number(_0x5d6110);}[_0x25a489(0x225)](){return new Point(this['x'],this['y']);}[_0x25a489(0x1c2)](_0x4c027d){return mhypot(this['x']-_0x4c027d['x'],this['y']-_0x4c027d['y']);}}class Segment{constructor(_0xb1155f,_0x1d56aa){this['p1']=new Point(_0xb1155f['x'],_0xb1155f['y']),this['p2']=new Point(_0x1d56aa['x'],_0x1d56aa['y']);}['dx'](){return this['p2']['x']-this['p1']['x'];}['dy'](){return this['p2']['y']-this['p1']['y'];}[_0x25a489(0x18e)](){return mhypot(this['dx'](),this['dy']());}[_0x25a489(0x1ca)](_0x3346e6){let _0x37d2ae=this['dx'](),_0x3109d5=this['dy']();return new Point(this['p1']['x']+_0x3346e6*_0x37d2ae,this['p1']['y']+_0x3346e6*_0x3109d5);}}class Side{constructor(){const _0x5c2738=_0x25a489;this['type']='',this[_0x5c2738(0x1ce)]=[];}[_0x25a489(0x1b3)](){const _0xb0a19e=_0x25a489,_0x3f5743=new Side();return _0x3f5743[_0xb0a19e(0x1e9)]=this[_0xb0a19e(0x1e9)],_0x3f5743['points']=this[_0xb0a19e(0x1ce)][_0xb0a19e(0x1d9)]()[_0xb0a19e(0x1a3)](),_0x3f5743;}[_0x25a489(0x1c8)](_0x1071d5){const _0x52ee88=_0x25a489,_0x383040=_0x1071d5[_0x52ee88(0x1aa)],_0x277c45=_0x1071d5['scaley'];this[_0x52ee88(0x1b2)]=this[_0x52ee88(0x1ce)][_0x52ee88(0x20e)](_0x14c54e=>new Point(_0x14c54e['x']*_0x383040,_0x14c54e['y']*_0x277c45));}[_0x25a489(0x1c0)](_0x51bb0c,_0xb987ec,_0x5784ab,_0x2f3a86){const _0x46d73c=_0x25a489;!_0x2f3a86&&_0x51bb0c[_0x46d73c(0x183)](this[_0x46d73c(0x1b2)][0x0]['x']+_0xb987ec,this[_0x46d73c(0x1b2)][0x0]['y']+_0x5784ab);if(this[_0x46d73c(0x1e9)]=='d')_0x51bb0c['lineTo'](this[_0x46d73c(0x1b2)][0x1]['x']+_0xb987ec,this[_0x46d73c(0x1b2)][0x1]['y']+_0x5784ab);else for(let _0x5347ac=0x1;_0x5347ac<this[_0x46d73c(0x1b2)][_0x46d73c(0x18e)]-0x1;_0x5347ac+=0x3){_0x51bb0c[_0x46d73c(0x1d8)](this['scaledPoints'][_0x5347ac]['x']+_0xb987ec,this[_0x46d73c(0x1b2)][_0x5347ac]['y']+_0x5784ab,this[_0x46d73c(0x1b2)][_0x5347ac+0x1]['x']+_0xb987ec,this[_0x46d73c(0x1b2)][_0x5347ac+0x1]['y']+_0x5784ab,this['scaledPoints'][_0x5347ac+0x2]['x']+_0xb987ec,this['scaledPoints'][_0x5347ac+0x2]['y']+_0x5784ab);}}}function twist0(_0x16df18,_0x52aa3b,_0x243427){const _0x3f2559=_0x25a489,_0x4b8278=new Segment(_0x16df18['points'][0x0],_0x16df18[_0x3f2559(0x1ce)][0x1]),_0x59897e=_0x4b8278['dx'](),_0x4cb013=_0x4b8278['dy'](),_0x23b040=new Segment(_0x52aa3b,_0x243427),_0x44e700=_0x4b8278[_0x3f2559(0x1ca)](0.5),_0xd3bb70=_0x23b040[_0x3f2559(0x1ca)](0.5),_0x2c4f63=new Segment(_0x44e700,_0xd3bb70),_0x3ea5c9=_0x2c4f63['dx'](),_0x189ab7=_0x2c4f63['dy'](),_0x2f616e=alea(0.8,0x1),_0x4f5301=alea(0.9,0x1),_0xa3eb1c=alea(0.45,0.55),_0x1b45b2=_0xf05668(_0xa3eb1c-0x1/0xc*_0x2f616e,0x1/0xc*_0x4f5301),_0x20bc0e=_0xf05668(_0xa3eb1c-0x2/0xc*_0x2f616e,0x3/0xc*_0x4f5301),_0x2c37e8=_0xf05668(_0xa3eb1c,0x4/0xc*_0x4f5301),_0x2b06a6=_0xf05668(_0xa3eb1c+0x2/0xc*_0x2f616e,0x3/0xc*_0x4f5301),_0x5ce464=_0xf05668(_0xa3eb1c+0x1/0xc*_0x2f616e,0x1/0xc*_0x4f5301);_0x16df18[_0x3f2559(0x1ce)]=[_0x4b8278['p1'],new Point(_0x4b8278['p1']['x']+0x5/0xc*_0x59897e*0.52,_0x4b8278['p1']['y']+0x5/0xc*_0x4cb013*0.52),new Point(_0x1b45b2['x']-0x1/0xc*_0x3ea5c9*0.72,_0x1b45b2['y']-0x1/0xc*_0x189ab7*0.72),_0x1b45b2,new Point(_0x1b45b2['x']+0x1/0xc*_0x3ea5c9*0.72,_0x1b45b2['y']+0x1/0xc*_0x189ab7*0.72),new Point(_0x20bc0e['x']-0x1/0xc*_0x3ea5c9*0.92,_0x20bc0e['y']-0x1/0xc*_0x189ab7*0.92),_0x20bc0e,new Point(_0x20bc0e['x']+0x1/0xc*_0x3ea5c9*0.52,_0x20bc0e['y']+0x1/0xc*_0x189ab7*0.52),new Point(_0x2c37e8['x']-0x2/0xc*_0x59897e*0.4,_0x2c37e8['y']-0x2/0xc*_0x4cb013*0.4),_0x2c37e8,new Point(_0x2c37e8['x']+0x2/0xc*_0x59897e*0.4,_0x2c37e8['y']+0x2/0xc*_0x4cb013*0.4),new Point(_0x2b06a6['x']+0x1/0xc*_0x3ea5c9*0.52,_0x2b06a6['y']+0x1/0xc*_0x189ab7*0.52),_0x2b06a6,new Point(_0x2b06a6['x']-0x1/0xc*_0x3ea5c9*0.92,_0x2b06a6['y']-0x1/0xc*_0x189ab7*0.92),new Point(_0x5ce464['x']+0x1/0xc*_0x3ea5c9*0.72,_0x5ce464['y']+0x1/0xc*_0x189ab7*0.72),_0x5ce464,new Point(_0x5ce464['x']-0x1/0xc*_0x3ea5c9*0.72,_0x5ce464['y']-0x1/0xc*_0x189ab7*0.72),new Point(_0x4b8278['p2']['x']-0x5/0xc*_0x59897e*0.52,_0x4b8278['p2']['y']-0x5/0xc*_0x4cb013*0.52),_0x4b8278['p2']],_0x16df18[_0x3f2559(0x1e9)]='z';function _0xf05668(_0x519a7c,_0x284a33){return new Point(_0x4b8278['p1']['x']+_0x519a7c*_0x59897e+_0x284a33*_0x3ea5c9,_0x4b8278['p1']['y']+_0x519a7c*_0x4cb013+_0x284a33*_0x189ab7);}}function twist1(_0x25d4d7,_0x132b6b,_0x4a8d4d){const _0x1c6583=_0x25a489,_0x26e0fa=new Segment(_0x25d4d7[_0x1c6583(0x1ce)][0x0],_0x25d4d7[_0x1c6583(0x1ce)][0x1]),_0x50167b=_0x26e0fa['dx'](),_0x396345=_0x26e0fa['dy'](),_0x5beefd=new Segment(_0x132b6b,_0x4a8d4d),_0x20b058=_0x26e0fa[_0x1c6583(0x1ca)](0.5),_0x47a29a=_0x5beefd['pointOnRelative'](0.5),_0x2779de=new Segment(_0x20b058,_0x47a29a),_0x43b93c=_0x2779de['dx'](),_0x3b2827=_0x2779de['dy'](),_0x3ab577=_0x8ef3d1(alea(0.3,0.35),alea(-0.05,0.05)),_0xc25807=_0x8ef3d1(alea(0.45,0.55),alea(0.2,0.3)),_0x4b58ae=_0x8ef3d1(alea(0.65,0.78),alea(-0.05,0.05));_0x25d4d7['points']=[_0x26e0fa['p1'],_0x26e0fa['p1'],_0x3ab577,_0x3ab577,_0x3ab577,_0xc25807,_0xc25807,_0xc25807,_0x4b58ae,_0x4b58ae,_0x4b58ae,_0x26e0fa['p2'],_0x26e0fa['p2']],_0x25d4d7['type']='z';function _0x8ef3d1(_0x20b28f,_0x3bbf0b){return new Point(_0x26e0fa['p1']['x']+_0x20b28f*_0x50167b+_0x3bbf0b*_0x43b93c,_0x26e0fa['p1']['y']+_0x20b28f*_0x396345+_0x3bbf0b*_0x3b2827);}}function twist2(_0x52d634,_0x3f59e4,_0x589d47){const _0x3dc3df=_0x25a489,_0xa20f6=new Segment(_0x52d634[_0x3dc3df(0x1ce)][0x0],_0x52d634[_0x3dc3df(0x1ce)][0x1]),_0x11a714=_0xa20f6['dx'](),_0x4a6a8f=_0xa20f6['dy'](),_0xdb4233=new Segment(_0x3f59e4,_0x589d47),_0x13b48c=_0xa20f6[_0x3dc3df(0x1ca)](0.5),_0x245aaa=_0xdb4233[_0x3dc3df(0x1ca)](0.5),_0x170471=new Segment(_0x13b48c,_0x245aaa),_0x4477fb=_0x170471['dx'](),_0x549677=_0x170471['dy'](),_0x418673=alea(0.45,0.55),_0x47cb92=alea(0.4,0.5),_0x46bd60=_0x4de970(_0x418673,_0x47cb92);let _0x523e2e=new Segment(_0xa20f6['p1'],_0x46bd60);const _0x269c12=_0x523e2e[_0x3dc3df(0x1ca)](0x2/0x3);_0x523e2e=new Segment(_0xa20f6['p2'],_0x46bd60);const _0x38ecb6=_0x523e2e[_0x3dc3df(0x1ca)](0x2/0x3);_0x52d634[_0x3dc3df(0x1ce)]=[_0xa20f6['p1'],_0x269c12,_0x38ecb6,_0xa20f6['p2']],_0x52d634[_0x3dc3df(0x1e9)]='z';function _0x4de970(_0x599cfd,_0x11c1e0){return new Point(_0xa20f6['p1']['x']+_0x599cfd*_0x11a714+_0x11c1e0*_0x4477fb,_0xa20f6['p1']['y']+_0x599cfd*_0x4a6a8f+_0x11c1e0*_0x549677);}}function twist3(_0x2a4416,_0x59f42a,_0x3294a5){const _0x4140ac=_0x25a489;_0x2a4416[_0x4140ac(0x1ce)]=[_0x2a4416['points'][0x0],_0x2a4416[_0x4140ac(0x1ce)][0x1]];}class Piece{constructor(_0x1308fc,_0x489804){this['ts']=new Side(),this['rs']=new Side(),this['bs']=new Side(),this['ls']=new Side(),this['kx']=_0x1308fc,this['ky']=_0x489804;}[_0x25a489(0x1c8)](_0x4b2a8b){const _0x20e221=_0x25a489;this['ts']['scale'](_0x4b2a8b),this['rs']['scale'](_0x4b2a8b),this['bs'][_0x20e221(0x1c8)](_0x4b2a8b),this['ls'][_0x20e221(0x1c8)](_0x4b2a8b);}}class PolyPiece{constructor(_0x55d075,_0x568e75){const _0x3d9be7=_0x25a489;this[_0x3d9be7(0x21c)]=_0x55d075['kx'],this[_0x3d9be7(0x20f)]=_0x55d075['kx']+0x1,this[_0x3d9be7(0x20d)]=_0x55d075['ky'],this['pckymax']=_0x55d075['ky']+0x1,this[_0x3d9be7(0x1ba)]=[_0x55d075],this[_0x3d9be7(0x1f5)]=_0x568e75,this['listLoops'](),this[_0x3d9be7(0x1b4)]=document['createElement'](_0x3d9be7(0x1bb)),_0x568e75['container'][_0x3d9be7(0x227)](this[_0x3d9be7(0x1b4)]),this['canvas'][_0x3d9be7(0x1a7)][_0x3d9be7(0x1d1)]('polypiece'),this['ctx']=this['canvas'][_0x3d9be7(0x17f)]('2d');}[_0x25a489(0x1de)](_0x23fddf){const _0x571fad=_0x25a489,_0x267a5e=this['pckxmin'],_0x7b497f=this[_0x571fad(0x20d)],_0xb466c7=this['puzzle'][_0x571fad(0x1cb)][_0x571fad(0x1ae)](_0x23fddf);this[_0x571fad(0x1f5)][_0x571fad(0x1cb)][_0x571fad(0x226)](_0xb466c7,0x1),this['puzzle']['container']['removeChild'](_0x23fddf[_0x571fad(0x1b4)]);for(let _0x17f3b6=0x0;_0x17f3b6<_0x23fddf[_0x571fad(0x1ba)][_0x571fad(0x18e)];++_0x17f3b6){this[_0x571fad(0x1ba)]['push'](_0x23fddf['pieces'][_0x17f3b6]);if(_0x23fddf['pieces'][_0x17f3b6]['kx']<this[_0x571fad(0x21c)])this[_0x571fad(0x21c)]=_0x23fddf['pieces'][_0x17f3b6]['kx'];if(_0x23fddf[_0x571fad(0x1ba)][_0x17f3b6]['kx']+0x1>this[_0x571fad(0x20f)])this[_0x571fad(0x20f)]=_0x23fddf[_0x571fad(0x1ba)][_0x17f3b6]['kx']+0x1;if(_0x23fddf[_0x571fad(0x1ba)][_0x17f3b6]['ky']<this[_0x571fad(0x20d)])this[_0x571fad(0x20d)]=_0x23fddf[_0x571fad(0x1ba)][_0x17f3b6]['ky'];if(_0x23fddf[_0x571fad(0x1ba)][_0x17f3b6]['ky']+0x1>this[_0x571fad(0x20b)])this[_0x571fad(0x20b)]=_0x23fddf['pieces'][_0x17f3b6]['ky']+0x1;}this[_0x571fad(0x1ba)][_0x571fad(0x202)](function(_0x819497,_0x18a97e){if(_0x819497['ky']<_0x18a97e['ky'])return-0x1;if(_0x819497['ky']>_0x18a97e['ky'])return 0x1;if(_0x819497['kx']<_0x18a97e['kx'])return-0x1;if(_0x819497['kx']>_0x18a97e['kx'])return 0x1;return 0x0;}),this[_0x571fad(0x1fe)](),this[_0x571fad(0x201)](),this[_0x571fad(0x183)](this['x']+this[_0x571fad(0x1f5)][_0x571fad(0x1aa)]*(this['pckxmin']-_0x267a5e),this['y']+this[_0x571fad(0x1f5)]['scaley']*(this[_0x571fad(0x20d)]-_0x7b497f)),this[_0x571fad(0x1f5)][_0x571fad(0x1b9)]();}[_0x25a489(0x1bc)](_0x1b4602){const _0x3d8497=_0x25a489;let _0x29633e,_0x5f1fc0,_0x56b71a=this[_0x3d8497(0x1f5)],_0x45566d=this['x']-_0x56b71a['scalex']*this[_0x3d8497(0x21c)],_0x24ab16=this['y']-_0x56b71a[_0x3d8497(0x21a)]*this[_0x3d8497(0x20d)],_0x3c6368=_0x1b4602['x']-_0x56b71a[_0x3d8497(0x1aa)]*_0x1b4602[_0x3d8497(0x21c)],_0x22247f=_0x1b4602['y']-_0x56b71a[_0x3d8497(0x21a)]*_0x1b4602['pckymin'];if(mhypot(_0x45566d-_0x3c6368,_0x24ab16-_0x22247f)>=_0x56b71a[_0x3d8497(0x1d7)])return![];for(let _0x1f6e56=this[_0x3d8497(0x1ba)][_0x3d8497(0x18e)]-0x1;_0x1f6e56>=0x0;--_0x1f6e56){_0x29633e=this[_0x3d8497(0x1ba)][_0x1f6e56];for(let _0x19a369=_0x1b4602[_0x3d8497(0x1ba)][_0x3d8497(0x18e)]-0x1;_0x19a369>=0x0;--_0x19a369){_0x5f1fc0=_0x1b4602[_0x3d8497(0x1ba)][_0x19a369];if(_0x29633e['kx']==_0x5f1fc0['kx']&&mabs(_0x29633e['ky']-_0x5f1fc0['ky'])==0x1)return!![];if(_0x29633e['ky']==_0x5f1fc0['ky']&&mabs(_0x29633e['kx']-_0x5f1fc0['kx'])==0x1)return!![];}}return![];}['listLoops'](){const _0x1da07c=_0x25a489,_0x544f72=this;function _0x511ab2(_0xf9968,_0x5f5c25,_0x752f8a){const _0x186b75=_0x57ac;let _0x2028ea;switch(_0x752f8a){case 0x0:_0x5f5c25--;break;case 0x1:_0xf9968++;break;case 0x2:_0x5f5c25++;break;case 0x3:_0xf9968--;break;}for(_0x2028ea=0x0;_0x2028ea<_0x544f72[_0x186b75(0x1ba)][_0x186b75(0x18e)];_0x2028ea++){if(_0xf9968==_0x544f72[_0x186b75(0x1ba)][_0x2028ea]['kx']&&_0x5f5c25==_0x544f72[_0x186b75(0x1ba)][_0x2028ea]['ky'])return!![];}return![];}function _0x392062(_0x1f8b53,_0x1beeb8,_0x33faea){const _0x59d62e=_0x57ac;let _0x1670f5;for(_0x1670f5=0x0;_0x1670f5<_0x5e5f63[_0x59d62e(0x18e)];_0x1670f5++){if(_0x1f8b53==_0x5e5f63[_0x1670f5]['kx']&&_0x1beeb8==_0x5e5f63[_0x1670f5]['ky']&&_0x33faea==_0x5e5f63[_0x1670f5][_0x59d62e(0x189)])return _0x1670f5;}return![];}let _0x3a5fc8=[],_0x5e5f63=[],_0xa5f3e8,_0x4bce45,_0x262af4,_0x5b6127,_0xaade20,_0x1f0b7f,_0x3c14d7,_0x53d3d1=[[{'dkx':0x0,'dky':0x0,'edge':0x1},{'dkx':0x1,'dky':0x0,'edge':0x0},{'dkx':0x1,'dky':-0x1,'edge':0x3}],[{'dkx':0x0,'dky':0x0,'edge':0x2},{'dkx':0x0,'dky':0x1,'edge':0x1},{'dkx':0x1,'dky':0x1,'edge':0x0}],[{'dkx':0x0,'dky':0x0,'edge':0x3},{'dkx':-0x1,'dky':0x0,'edge':0x2},{'dkx':-0x1,'dky':0x1,'edge':0x1}],[{'dkx':0x0,'dky':0x0,'edge':0x0},{'dkx':0x0,'dky':-0x1,'edge':0x3},{'dkx':-0x1,'dky':-0x1,'edge':0x2}]];for(_0xa5f3e8=0x0;_0xa5f3e8<this[_0x1da07c(0x1ba)]['length'];_0xa5f3e8++){for(_0x4bce45=0x0;_0x4bce45<0x4;_0x4bce45++){if(!_0x511ab2(this[_0x1da07c(0x1ba)][_0xa5f3e8]['kx'],this[_0x1da07c(0x1ba)][_0xa5f3e8]['ky'],_0x4bce45))_0x5e5f63[_0x1da07c(0x19c)]({'kx':this['pieces'][_0xa5f3e8]['kx'],'ky':this[_0x1da07c(0x1ba)][_0xa5f3e8]['ky'],'edge':_0x4bce45,'kp':_0xa5f3e8});}}while(_0x5e5f63[_0x1da07c(0x18e)]>0x0){_0x262af4=[],_0x5b6127=_0x5e5f63[0x0],_0x262af4[_0x1da07c(0x19c)](_0x5b6127),_0x5e5f63[_0x1da07c(0x226)](0x0,0x1);do{for(_0xaade20=0x0;_0xaade20<0x3;_0xaade20++){_0x3c14d7=_0x53d3d1[_0x5b6127[_0x1da07c(0x189)]][_0xaade20],_0x1f0b7f=_0x392062(_0x5b6127['kx']+_0x3c14d7[_0x1da07c(0x187)],_0x5b6127['ky']+_0x3c14d7[_0x1da07c(0x19b)],_0x3c14d7['edge']);if(_0x1f0b7f===![])continue;_0x5b6127=_0x5e5f63[_0x1f0b7f],_0x262af4[_0x1da07c(0x19c)](_0x5b6127),_0x5e5f63['splice'](_0x1f0b7f,0x1);break;}if(_0x1f0b7f===![])break;}while(0x1);_0x3a5fc8['push'](_0x262af4);}this[_0x1da07c(0x21b)]=_0x3a5fc8[_0x1da07c(0x20e)](_0x39b69d=>_0x39b69d[_0x1da07c(0x20e)](_0x2ac27e=>{const _0x3c9e22=_0x1da07c;let _0xa74cb3=this[_0x3c9e22(0x1ba)][_0x2ac27e['kp']];if(_0x2ac27e['edge']==0x0)return _0xa74cb3['ts'];if(_0x2ac27e['edge']==0x1)return _0xa74cb3['rs'];if(_0x2ac27e['edge']==0x2)return _0xa74cb3['bs'];return _0xa74cb3['ls'];}));}[_0x25a489(0x1c0)](_0x33167e,_0x42673d,_0x28d9e6){const _0x329ba2=_0x25a489;this[_0x329ba2(0x21b)]['forEach'](_0x1f2d6a=>{const _0x1e6a01=_0x329ba2;let _0x168d5d=![];_0x1f2d6a[_0x1e6a01(0x18c)](_0x3e685c=>{_0x3e685c['drawPath'](_0x33167e,_0x42673d,_0x28d9e6,_0x168d5d),_0x168d5d=!![];}),_0x33167e[_0x1e6a01(0x18b)]();});}[_0x25a489(0x201)](){const _0x1b6832=_0x25a489;puzzle=this[_0x1b6832(0x1f5)],this['nx']=this['pckxmax']-this['pckxmin']+0x1,this['ny']=this[_0x1b6832(0x20b)]-this[_0x1b6832(0x20d)]+0x1,this['canvas'][_0x1b6832(0x1d6)]=this['nx']*puzzle[_0x1b6832(0x1aa)],this[_0x1b6832(0x1b4)]['height']=this['ny']*puzzle[_0x1b6832(0x21a)],this['offsx']=(this['pckxmin']-0.5)*puzzle[_0x1b6832(0x1aa)],this[_0x1b6832(0x194)]=(this[_0x1b6832(0x20d)]-0.5)*puzzle[_0x1b6832(0x21a)],this['path']=new Path2D(),this[_0x1b6832(0x1c0)](this[_0x1b6832(0x1ec)],-this[_0x1b6832(0x199)],-this[_0x1b6832(0x194)]),this[_0x1b6832(0x206)][_0x1b6832(0x1da)]=_0x1b6832(0x17c),this['ctx'][_0x1b6832(0x1d3)]=_0x1b6832(0x1b0),this[_0x1b6832(0x206)]['shadowBlur']=0x4,this[_0x1b6832(0x206)][_0x1b6832(0x1a1)]=0x4,this[_0x1b6832(0x206)]['shadowOffsetY']=0x4,this[_0x1b6832(0x206)][_0x1b6832(0x211)](this[_0x1b6832(0x1ec)]),this['ctx'][_0x1b6832(0x1d3)]=_0x1b6832(0x1a0),this['pieces'][_0x1b6832(0x18c)]((_0x32ff1f,_0x5ea401)=>{const _0x321830=_0x1b6832;this[_0x321830(0x206)][_0x321830(0x193)]();const _0x51beb5=new Path2D(),_0x17fc25=-this[_0x321830(0x199)],_0x56c7cb=-this['offsy'];_0x32ff1f['ts']['drawPath'](_0x51beb5,_0x17fc25,_0x56c7cb,![]),_0x32ff1f['rs'][_0x321830(0x1c0)](_0x51beb5,_0x17fc25,_0x56c7cb,!![]),_0x32ff1f['bs'][_0x321830(0x1c0)](_0x51beb5,_0x17fc25,_0x56c7cb,!![]),_0x32ff1f['ls'][_0x321830(0x1c0)](_0x51beb5,_0x17fc25,_0x56c7cb,!![]),_0x51beb5[_0x321830(0x18b)](),this[_0x321830(0x206)][_0x321830(0x1e4)](_0x51beb5);const _0xe51bff=_0x32ff1f['kx']?(_0x32ff1f['kx']-0.5)*puzzle[_0x321830(0x1aa)]:0x0,_0x4e23c3=_0x32ff1f['ky']?(_0x32ff1f['ky']-0.5)*puzzle['scaley']:0x0,_0x18a5f5=(_0x32ff1f['kx']?0x0:puzzle[_0x321830(0x1aa)]/0x2)+(_0x32ff1f['kx']-this[_0x321830(0x21c)])*puzzle[_0x321830(0x1aa)],_0x29bee7=(_0x32ff1f['ky']?0x0:puzzle[_0x321830(0x21a)]/0x2)+(_0x32ff1f['ky']-this[_0x321830(0x20d)])*puzzle[_0x321830(0x21a)];let _0x26b466=0x2*puzzle['scalex'],_0x4ab565=0x2*puzzle[_0x321830(0x21a)];if(_0xe51bff+_0x26b466>puzzle['gameCanvas']['width'])_0x26b466=puzzle[_0x321830(0x1a4)][_0x321830(0x1d6)]-_0xe51bff;if(_0x4e23c3+_0x4ab565>puzzle[_0x321830(0x1a4)][_0x321830(0x205)])_0x4ab565=puzzle[_0x321830(0x1a4)][_0x321830(0x205)]-_0x4e23c3;this[_0x321830(0x206)][_0x321830(0x201)](puzzle['gameCanvas'],_0xe51bff,_0x4e23c3,_0x26b466,_0x4ab565,_0x18a5f5,_0x29bee7,_0x26b466,_0x4ab565),this['ctx']['translate'](puzzle[_0x321830(0x1eb)]/0x2,-puzzle[_0x321830(0x1eb)]/0x2),this[_0x321830(0x206)][_0x321830(0x1fc)]=puzzle[_0x321830(0x1eb)],this['ctx'][_0x321830(0x1c4)]=_0x321830(0x220),this[_0x321830(0x206)][_0x321830(0x21d)](_0x51beb5),this[_0x321830(0x206)][_0x321830(0x19e)](-puzzle[_0x321830(0x1eb)],puzzle[_0x321830(0x1eb)]),this[_0x321830(0x206)]['strokeStyle']=_0x321830(0x20a),this[_0x321830(0x206)][_0x321830(0x21d)](_0x51beb5),this[_0x321830(0x206)][_0x321830(0x1dd)]();});}[_0x25a489(0x183)](_0x467292,_0x44d000){const _0xea795a=_0x25a489;this['x']=_0x467292,this['y']=_0x44d000,this['canvas'][_0xea795a(0x1ee)]['left']=_0x467292+'px',this[_0xea795a(0x1b4)][_0xea795a(0x1ee)][_0xea795a(0x1b6)]=_0x44d000+'px';}[_0x25a489(0x186)](){const _0x3c9d2e=_0x25a489,_0x4858c1=this[_0x3c9d2e(0x1f5)];this[_0x3c9d2e(0x183)](_0x4858c1[_0x3c9d2e(0x199)]+(this['pckxmin']-0.5)*_0x4858c1[_0x3c9d2e(0x1aa)],_0x4858c1[_0x3c9d2e(0x194)]+(this[_0x3c9d2e(0x20d)]-0.5)*_0x4858c1[_0x3c9d2e(0x21a)]);}}class Puzzle{constructor(_0x2bca1f){const _0x4873e9=_0x25a489;this[_0x4873e9(0x207)]=![],this[_0x4873e9(0x1f3)]=typeof _0x2bca1f[_0x4873e9(0x1f3)]==_0x4873e9(0x221)?document[_0x4873e9(0x184)](_0x2bca1f[_0x4873e9(0x1f3)]):_0x2bca1f[_0x4873e9(0x1f3)],this['container']['addEventListener'](_0x4873e9(0x1a5),_0x4269ed=>{const _0x2d9bb7=_0x4873e9;_0x4269ed[_0x2d9bb7(0x1d4)](),events[_0x2d9bb7(0x19c)]({'event':_0x2d9bb7(0x1ea),'position':this['relativeMouseCoordinates'](_0x4269ed)});}),this['container'][_0x4873e9(0x1af)]('touchstart',_0x461d3a=>{const _0x58ec44=_0x4873e9;_0x461d3a['preventDefault']();if(_0x461d3a[_0x58ec44(0x18d)][_0x58ec44(0x18e)]!=0x1)return;let _0x14148f=_0x461d3a[_0x58ec44(0x18d)][0x0];events[_0x58ec44(0x19c)]({'event':_0x58ec44(0x1ea),'position':this[_0x58ec44(0x223)](_0x14148f)});},{'passive':![]}),this[_0x4873e9(0x1f3)][_0x4873e9(0x1af)](_0x4873e9(0x1ef),_0x4ad0f4=>{const _0x325e1d=_0x4873e9;_0x4ad0f4[_0x325e1d(0x1d4)](),_0x47229b();}),this['container'][_0x4873e9(0x1af)]('touchend',_0x47229b),this[_0x4873e9(0x1f3)][_0x4873e9(0x1af)]('touchleave',_0x47229b),this['container'][_0x4873e9(0x1af)]('touchcancel',_0x47229b),this[_0x4873e9(0x1f3)][_0x4873e9(0x1af)]('mousemove',_0x24cbad=>{const _0x31a608=_0x4873e9;_0x24cbad['preventDefault']();if(events[_0x31a608(0x18e)]&&events[events['length']-0x1][_0x31a608(0x1e3)]=='move')events[_0x31a608(0x214)]();events[_0x31a608(0x19c)]({'event':_0x31a608(0x204),'position':this[_0x31a608(0x223)](_0x24cbad)});}),this[_0x4873e9(0x1f3)]['addEventListener']('touchmove',_0x4a3dd2=>{const _0x6fc647=_0x4873e9;_0x4a3dd2[_0x6fc647(0x1d4)]();if(_0x4a3dd2[_0x6fc647(0x18d)][_0x6fc647(0x18e)]!=0x1)return;let _0x53f287=_0x4a3dd2[_0x6fc647(0x18d)][0x0];if(events[_0x6fc647(0x18e)]&&events[events['length']-0x1][_0x6fc647(0x1e3)]==_0x6fc647(0x204))events[_0x6fc647(0x214)]();events[_0x6fc647(0x19c)]({'event':'move','position':this['relativeMouseCoordinates'](_0x53f287)});},{'passive':![]}),this['gameCanvas']=document[_0x4873e9(0x1ad)](_0x4873e9(0x1bb)),this[_0x4873e9(0x1f3)]['appendChild'](this[_0x4873e9(0x1a4)]),this[_0x4873e9(0x1e1)]=new Image(),this['imageLoaded']=![],this['srcImage'][_0x4873e9(0x1af)](_0x4873e9(0x180),()=>imageLoaded(this));function _0x47229b(){const _0x3da020=_0x4873e9;events[_0x3da020(0x19c)]({'event':_0x3da020(0x1ab)});}}[_0x25a489(0x1e5)](){const _0x1878b9=_0x25a489;let _0xc2cf82=window[_0x1878b9(0x1e7)](this[_0x1878b9(0x1f3)]);this[_0x1878b9(0x1fd)]=parseFloat(_0xc2cf82[_0x1878b9(0x1d6)]),this['contHeight']=parseFloat(_0xc2cf82[_0x1878b9(0x205)]);}[_0x25a489(0x217)](){const _0x15c399=_0x25a489;this[_0x15c399(0x1f3)][_0x15c399(0x218)]='',this['getContainerSize'](),this[_0x15c399(0x192)](),this[_0x15c399(0x188)]=this[_0x15c399(0x1e1)][_0x15c399(0x209)]/this['ny']/(this[_0x15c399(0x1e1)]['naturalWidth']/this['nx']),this['defineShapes']({'coeffDecentr':0.12,'twistf':[twist0,twist1,twist2,twist3][document['getElementById'](_0x15c399(0x228))[_0x15c399(0x1e6)]-0x1]}),this[_0x15c399(0x1cb)]=[],this['pieces'][_0x15c399(0x18c)](_0x254d5e=>_0x254d5e[_0x15c399(0x18c)](_0x33c95f=>{this['polyPieces']['push'](new PolyPiece(_0x33c95f,this));})),arrayShuffle(this[_0x15c399(0x1cb)]),this[_0x15c399(0x1b9)]();}[_0x25a489(0x192)](){const _0xfd8502=_0x25a489;let _0x463c72,_0xa4578f,_0x35ad36=this[_0xfd8502(0x1e1)][_0xfd8502(0x224)],_0x3ab84a=this[_0xfd8502(0x1e1)][_0xfd8502(0x209)],_0x5c0d3b=this['nbPieces'],_0x4a716a,_0x1aff3e=0x3b9aca00,_0x5def98,_0x5611a4,_0xf58450=mround(msqrt(_0x5c0d3b*_0x35ad36/_0x3ab84a)),_0x4c2867=mround(_0x5c0d3b/_0xf58450);for(_0xa4578f=0x0;_0xa4578f<0x5;_0xa4578f++){_0x5def98=_0x4c2867+_0xa4578f-0x2;for(_0x463c72=0x0;_0x463c72<0x5;_0x463c72++){_0x5611a4=_0xf58450+_0x463c72-0x2,_0x4a716a=_0x5611a4*_0x3ab84a/_0x5def98/_0x35ad36,_0x4a716a=_0x4a716a+0x1/_0x4a716a-0x2,_0x4a716a+=mabs(0x1-_0x5611a4*_0x5def98/_0x5c0d3b),_0x4a716a<_0x1aff3e&&(_0x1aff3e=_0x4a716a,this['nx']=_0x5611a4,this['ny']=_0x5def98);}}}[_0x25a489(0x1f7)](_0x19d6c8){const _0x38c697=_0x25a489;let {coeffDecentr:_0x1dd4bb,twistf:_0x2de7b5}=_0x19d6c8;const _0x1e0e80=[],_0x9e8c26=this['nx'],_0x4d632f=this['ny'];let _0x10a2a8;for(let _0x55a224=0x0;_0x55a224<=_0x4d632f;++_0x55a224){_0x1e0e80[_0x55a224]=[];for(let _0x5bfa66=0x0;_0x5bfa66<=_0x9e8c26;++_0x5bfa66){_0x1e0e80[_0x55a224][_0x5bfa66]=new Point(_0x5bfa66+alea(-_0x1dd4bb,_0x1dd4bb),_0x55a224+alea(-_0x1dd4bb,_0x1dd4bb));if(_0x5bfa66==0x0)_0x1e0e80[_0x55a224][_0x5bfa66]['x']=0x0;if(_0x5bfa66==_0x9e8c26)_0x1e0e80[_0x55a224][_0x5bfa66]['x']=_0x9e8c26;if(_0x55a224==0x0)_0x1e0e80[_0x55a224][_0x5bfa66]['y']=0x0;if(_0x55a224==_0x4d632f)_0x1e0e80[_0x55a224][_0x5bfa66]['y']=_0x4d632f;}}this['pieces']=[];for(let _0xbd677a=0x0;_0xbd677a<_0x4d632f;++_0xbd677a){this['pieces'][_0xbd677a]=[];for(let _0x10eee3=0x0;_0x10eee3<_0x9e8c26;++_0x10eee3){this[_0x38c697(0x1ba)][_0xbd677a][_0x10eee3]=_0x10a2a8=new Piece(_0x10eee3,_0xbd677a);_0xbd677a==0x0?(_0x10a2a8['ts']['points']=[_0x1e0e80[_0xbd677a][_0x10eee3],_0x1e0e80[_0xbd677a][_0x10eee3+0x1]],_0x10a2a8['ts']['type']='d'):_0x10a2a8['ts']=this[_0x38c697(0x1ba)][_0xbd677a-0x1][_0x10eee3]['bs'][_0x38c697(0x1b3)]();_0x10a2a8['rs'][_0x38c697(0x1ce)]=[_0x1e0e80[_0xbd677a][_0x10eee3+0x1],_0x1e0e80[_0xbd677a+0x1][_0x10eee3+0x1]],_0x10a2a8['rs'][_0x38c697(0x1e9)]='d';if(_0x10eee3<_0x9e8c26-0x1){if(intAlea(0x2))_0x2de7b5(_0x10a2a8['rs'],_0x1e0e80[_0xbd677a][_0x10eee3],_0x1e0e80[_0xbd677a+0x1][_0x10eee3]);else _0x2de7b5(_0x10a2a8['rs'],_0x1e0e80[_0xbd677a][_0x10eee3+0x2],_0x1e0e80[_0xbd677a+0x1][_0x10eee3+0x2]);}_0x10eee3==0x0?(_0x10a2a8['ls'][_0x38c697(0x1ce)]=[_0x1e0e80[_0xbd677a+0x1][_0x10eee3],_0x1e0e80[_0xbd677a][_0x10eee3]],_0x10a2a8['ls'][_0x38c697(0x1e9)]='d'):_0x10a2a8['ls']=this[_0x38c697(0x1ba)][_0xbd677a][_0x10eee3-0x1]['rs']['reversed']();_0x10a2a8['bs'][_0x38c697(0x1ce)]=[_0x1e0e80[_0xbd677a+0x1][_0x10eee3+0x1],_0x1e0e80[_0xbd677a+0x1][_0x10eee3]],_0x10a2a8['bs'][_0x38c697(0x1e9)]='d';if(_0xbd677a<_0x4d632f-0x1){if(intAlea(0x2))_0x2de7b5(_0x10a2a8['bs'],_0x1e0e80[_0xbd677a][_0x10eee3+0x1],_0x1e0e80[_0xbd677a][_0x10eee3]);else _0x2de7b5(_0x10a2a8['bs'],_0x1e0e80[_0xbd677a+0x2][_0x10eee3+0x1],_0x1e0e80[_0xbd677a+0x2][_0x10eee3]);}}}}['scale'](){const _0x493953=_0x25a489,_0x2ee8cb=0.95*this[_0x493953(0x1fd)],_0x52d2fe=0.95*this[_0x493953(0x1b1)];this['gameHeight']=_0x52d2fe,this[_0x493953(0x20c)]=this['gameHeight']*this[_0x493953(0x1e1)]['naturalWidth']/this['srcImage']['naturalHeight'],this[_0x493953(0x20c)]>_0x2ee8cb&&(this['gameWidth']=_0x2ee8cb,this['gameHeight']=this['gameWidth']*this['srcImage']['naturalHeight']/this[_0x493953(0x1e1)][_0x493953(0x224)]),this[_0x493953(0x1a4)][_0x493953(0x1d6)]=this[_0x493953(0x20c)],this[_0x493953(0x1a4)][_0x493953(0x205)]=this[_0x493953(0x17d)],this[_0x493953(0x21e)]=this[_0x493953(0x1a4)][_0x493953(0x17f)]('2d'),this['gameCtx'][_0x493953(0x201)](this[_0x493953(0x1e1)],0x0,0x0,this[_0x493953(0x20c)],this[_0x493953(0x17d)]),this['gameCanvas'][_0x493953(0x1a7)][_0x493953(0x1d1)](_0x493953(0x1a4)),this['gameCanvas'][_0x493953(0x1ee)][_0x493953(0x216)]=0x1f4,this[_0x493953(0x1aa)]=this['gameWidth']/this['nx'],this[_0x493953(0x21a)]=this[_0x493953(0x17d)]/this['ny'],this[_0x493953(0x1ba)][_0x493953(0x18c)](_0x52ed54=>{const _0x37ddd4=_0x493953;_0x52ed54['forEach'](_0x429663=>_0x429663[_0x37ddd4(0x1c8)](this));}),this['offsx']=(this[_0x493953(0x1fd)]-this[_0x493953(0x20c)])/0x2,this['offsy']=(this[_0x493953(0x1b1)]-this['gameHeight'])/0x2,this[_0x493953(0x1d7)]=mmax(0xa,mmin(this[_0x493953(0x1aa)],this[_0x493953(0x21a)])/0xa),this[_0x493953(0x1eb)]=mmin(0x2+this[_0x493953(0x1aa)]/0xc8*(0x5-0x2),0x5);}[_0x25a489(0x223)](_0xdf62a7){const _0x3b2a9d=_0x25a489,_0x4d6140=this[_0x3b2a9d(0x1f3)][_0x3b2a9d(0x18f)]();return{'x':_0xdf62a7[_0x3b2a9d(0x191)]-_0x4d6140['x'],'y':_0xdf62a7[_0x3b2a9d(0x22b)]-_0x4d6140['y']};}[_0x25a489(0x1a8)](_0x5a06e0){const _0x1cc942=_0x25a489;_0x5a06e0['x0']=mmin(mmax(_0x5a06e0['x0'],-this[_0x1cc942(0x1aa)]/0x2),this['contWidth']-1.5*this[_0x1cc942(0x1aa)]),_0x5a06e0['x1']=mmin(mmax(_0x5a06e0['x1'],-this[_0x1cc942(0x1aa)]/0x2),this['contWidth']-1.5*this[_0x1cc942(0x1aa)]),_0x5a06e0['y0']=mmin(mmax(_0x5a06e0['y0'],-this[_0x1cc942(0x21a)]/0x2),this[_0x1cc942(0x1b1)]-1.5*this[_0x1cc942(0x21a)]),_0x5a06e0['y1']=mmin(mmax(_0x5a06e0['y1'],-this[_0x1cc942(0x21a)]/0x2),this[_0x1cc942(0x1b1)]-1.5*this[_0x1cc942(0x21a)]);}['spreadInRectangle'](_0x1397a1){const _0x4b0e79=_0x25a489;this[_0x4b0e79(0x1a8)](_0x1397a1),this['polyPieces'][_0x4b0e79(0x18c)](_0x419bd2=>_0x419bd2[_0x4b0e79(0x183)](alea(_0x1397a1['x0'],_0x1397a1['x1']),alea(_0x1397a1['y0'],_0x1397a1['y1'])));}['spreadSetInRectangle'](_0x48604c,_0x5126af){const _0x2d8faa=_0x25a489;this[_0x2d8faa(0x1a8)](_0x5126af),_0x48604c[_0x2d8faa(0x18c)](_0x27e3aa=>_0x27e3aa[_0x2d8faa(0x183)](alea(_0x5126af['x0'],_0x5126af['x1']),alea(_0x5126af['y0'],_0x5126af['y1'])));}[_0x25a489(0x197)](){const _0x626f56=_0x25a489,_0x13695e=-this[_0x626f56(0x1aa)]/0x2,_0x54eae5=-this[_0x626f56(0x21a)]/0x2,_0x3e4dde=this[_0x626f56(0x1fd)]-1.5*this[_0x626f56(0x1aa)],_0x267d03=this[_0x626f56(0x1b1)]-1.5*this[_0x626f56(0x21a)];let _0x37daf9=this['contWidth']-this['gameWidth'],_0x7d586b=this[_0x626f56(0x1b1)]-this[_0x626f56(0x17d)],_0x12aed6=[0x0,0x0,0x0,0x0],_0x40bb22=[];_0x37daf9>1.5*this['scalex']&&(_0x12aed6[0x1]=0x1,_0x40bb22[0x1]={'x0':this[_0x626f56(0x20c)]-0.5*this[_0x626f56(0x1aa)],'x1':_0x3e4dde,'y0':_0x54eae5,'y1':_0x267d03});_0x37daf9>0x3*this[_0x626f56(0x1aa)]&&(_0x12aed6[0x3]=0x1,_0x40bb22[0x3]={'x0':_0x13695e,'x1':_0x37daf9/0x2-1.5*this[_0x626f56(0x1aa)],'y0':_0x54eae5,'y1':_0x267d03},_0x40bb22[0x1]['x0']=this[_0x626f56(0x1fd)]-_0x37daf9/0x2-0.5*this[_0x626f56(0x1aa)]);_0x7d586b>1.5*this[_0x626f56(0x21a)]&&(_0x12aed6[0x2]=0x1,_0x40bb22[0x2]={'x0':_0x13695e,'x1':_0x3e4dde,'y0':this[_0x626f56(0x17d)]-0.5*this[_0x626f56(0x21a)],'y1':this[_0x626f56(0x1b1)]-1.5*this[_0x626f56(0x21a)]});_0x7d586b>0x3*this[_0x626f56(0x21a)]&&(_0x12aed6[0x0]=0x1,_0x40bb22[0x0]={'x0':_0x13695e,'x1':_0x3e4dde,'y0':_0x54eae5,'y1':_0x7d586b/0x2-1.5*this[_0x626f56(0x21a)]},_0x40bb22[0x2]['y0']=this[_0x626f56(0x1b1)]-_0x7d586b/0x2-0.5*this[_0x626f56(0x21a)]);if(_0x12aed6['reduce']((_0x406a58,_0x5f0699)=>_0x406a58+_0x5f0699)<0x2){if(_0x37daf9-_0x7d586b>0.2*this['scalex']||_0x12aed6[0x1])this['spreadInRectangle']({'x0':this[_0x626f56(0x20c)]-this['scalex']/0x2,'x1':_0x3e4dde,'y0':_0x54eae5,'y1':_0x267d03});else _0x7d586b-_0x37daf9>0.2*this[_0x626f56(0x1aa)]||_0x12aed6[0x2]?this[_0x626f56(0x1cc)]({'x0':_0x13695e,'x1':_0x3e4dde,'y0':this[_0x626f56(0x17d)]-this[_0x626f56(0x21a)]/0x2,'y1':_0x267d03}):this[_0x626f56(0x20c)]>this[_0x626f56(0x17d)]?this[_0x626f56(0x1cc)]({'x0':_0x13695e,'x1':_0x3e4dde,'y0':this[_0x626f56(0x17d)]-this[_0x626f56(0x21a)]/0x2,'y1':_0x267d03}):this[_0x626f56(0x1cc)]({'x0':this[_0x626f56(0x20c)]-this[_0x626f56(0x1aa)]/0x2,'x1':_0x3e4dde,'y0':_0x54eae5,'y1':_0x267d03});return;}let _0x54a94e=[];_0x40bb22[_0x626f56(0x18c)](_0x3e95b3=>{_0x54a94e['push'](_0x3e95b3);});let _0x4e9f4f=0x0;const _0x67fe29=this['nx']*this['ny'];for(let _0x46e0c4=0x0;_0x46e0c4<_0x54a94e[_0x626f56(0x18e)];++_0x46e0c4){let _0x55eb6e=mround((_0x46e0c4+0x1)/_0x54a94e['length']*_0x67fe29);this[_0x626f56(0x210)](this[_0x626f56(0x1cb)]['slice'](_0x4e9f4f,_0x55eb6e),_0x54a94e[_0x46e0c4]),_0x4e9f4f=_0x55eb6e;}arrayShuffle(this['polyPieces']),this[_0x626f56(0x1b9)]();}['evaluateZIndex'](){const _0x4e0af7=_0x25a489;for(let _0x724f73=this['polyPieces'][_0x4e0af7(0x18e)]-0x1;_0x724f73>0x0;--_0x724f73){this[_0x4e0af7(0x1cb)][_0x724f73][_0x4e0af7(0x1ba)][_0x4e0af7(0x18e)]>this[_0x4e0af7(0x1cb)][_0x724f73-0x1][_0x4e0af7(0x1ba)][_0x4e0af7(0x18e)]&&([this[_0x4e0af7(0x1cb)][_0x724f73],this['polyPieces'][_0x724f73-0x1]]=[this[_0x4e0af7(0x1cb)][_0x724f73-0x1],this['polyPieces'][_0x724f73]]);}this[_0x4e0af7(0x1cb)][_0x4e0af7(0x18c)]((_0x1e6208,_0x5d0ad1)=>{const _0x3fbc55=_0x4e0af7;_0x1e6208[_0x3fbc55(0x1b4)][_0x3fbc55(0x1ee)][_0x3fbc55(0x216)]=_0x5d0ad1+0xa;}),this['zIndexSup']=this[_0x4e0af7(0x1cb)]['length']+0xa;}}let loadFile;{let options,elFile=document['createElement'](_0x25a489(0x190));elFile[_0x25a489(0x1e2)](_0x25a489(0x1e9),'file'),elFile[_0x25a489(0x1ee)][_0x25a489(0x1f4)]=_0x25a489(0x17c),elFile[_0x25a489(0x1af)](_0x25a489(0x195),getFile);function getFile(){const _0x5d9370=_0x25a489;if(this['files']['length']==0x0)return;let _0x213487=this['files'][0x0],_0x4abe90=new FileReader();_0x4abe90[_0x5d9370(0x1af)](_0x5d9370(0x180),()=>{const _0x545c9f=_0x5d9370;puzzle['srcImage'][_0x545c9f(0x17e)]=_0x4abe90['result'];}),_0x4abe90[_0x5d9370(0x1f1)](this['files'][0x0]);}loadFile=function(_0x5380e9){const _0x45d7f4=_0x25a489;elFile[_0x45d7f4(0x1e2)](_0x45d7f4(0x229),'image/*'),elFile['value']=null,elFile[_0x45d7f4(0x1db)]();};}function loadInitialFile(){const _0x15edcd=_0x25a489;puzzle[_0x15edcd(0x1e1)][_0x15edcd(0x17e)]='https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/56b774c6-d573-45f1-a767-a7e62a15891a/width=1792,quality=90/ComfyUI_temp_kpspy_00013_.jpeg';}function imageLoaded(_0x359bc2){const _0x4ba700=_0x25a489;events[_0x4ba700(0x19c)]({'event':_0x4ba700(0x1b8)}),_0x359bc2[_0x4ba700(0x208)]=!![];}function fitImage(_0x163bc6,_0x2e6a4e,_0x5e52f1){const _0x28b1ea=_0x25a489;let _0xc90f3=_0x163bc6[_0x28b1ea(0x224)],_0x1b800f=_0x163bc6[_0x28b1ea(0x209)],_0x3946b3=_0x2e6a4e,_0x196b27=_0x3946b3*_0x1b800f/_0xc90f3;_0x196b27>_0x5e52f1&&(_0x196b27=_0x5e52f1,_0x3946b3=_0x196b27*_0xc90f3/_0x1b800f),_0x163bc6[_0x28b1ea(0x1ee)][_0x28b1ea(0x212)]=_0x28b1ea(0x219),_0x163bc6['style'][_0x28b1ea(0x1d6)]=_0x3946b3+'px',_0x163bc6['style'][_0x28b1ea(0x205)]=_0x196b27+'px',_0x163bc6[_0x28b1ea(0x1ee)][_0x28b1ea(0x1b6)]='50%',_0x163bc6['style'][_0x28b1ea(0x1c6)]=_0x28b1ea(0x19d),_0x163bc6[_0x28b1ea(0x1ee)][_0x28b1ea(0x1ed)]='translate(-50%,-50%)';}function _0x57ac(_0x216787,_0x12d630){const _0x5624be=_0x5624();return _0x57ac=function(_0x57ac7b,_0x4ad90e){_0x57ac7b=_0x57ac7b-0x17a;let _0x2ebe7a=_0x5624be[_0x57ac7b];return _0x2ebe7a;},_0x57ac(_0x216787,_0x12d630);}let animate,events=[];{let state=0x0,moving,tmpImage;animate=function(){const _0x2abc4b=_0x25a489;requestAnimationFrame(animate);let _0x3d27db;if(events['length'])_0x3d27db=events[_0x2abc4b(0x1df)]();if(_0x3d27db&&_0x3d27db[_0x2abc4b(0x1e3)]==_0x2abc4b(0x1f9))state=0x0;if(_0x3d27db&&_0x3d27db['event']==_0x2abc4b(0x1b8))state=0x0;if(_0x3d27db&&_0x3d27db[_0x2abc4b(0x1e3)]==_0x2abc4b(0x18a)){puzzle[_0x2abc4b(0x215)]=puzzle[_0x2abc4b(0x1fd)],puzzle[_0x2abc4b(0x1f6)]=puzzle['contHeight'],puzzle[_0x2abc4b(0x1e5)]();if(state==0xf||state>0x3c)puzzle['getContainerSize'](),fitImage(tmpImage,puzzle['contWidth']*0.95,puzzle[_0x2abc4b(0x1b1)]*0.95);else{if(state>=0x19){puzzle[_0x2abc4b(0x1bf)]=puzzle[_0x2abc4b(0x20c)],puzzle[_0x2abc4b(0x19f)]=puzzle[_0x2abc4b(0x17d)],puzzle[_0x2abc4b(0x1c8)]();let _0x5f1846=puzzle[_0x2abc4b(0x1fd)]/puzzle[_0x2abc4b(0x215)];puzzle['polyPieces']['forEach'](_0x2ade06=>{const _0x4da354=_0x2abc4b;let _0x3ea193=puzzle[_0x4da354(0x1fd)]/0x2-(puzzle[_0x4da354(0x215)]/0x2-_0x2ade06['x'])*_0x5f1846,_0x42b381=puzzle['contHeight']/0x2-(puzzle[_0x4da354(0x1f6)]/0x2-_0x2ade06['y'])*_0x5f1846;_0x3ea193=mmin(mmax(_0x3ea193,-puzzle[_0x4da354(0x1aa)]/0x2),puzzle[_0x4da354(0x1fd)]-1.5*puzzle[_0x4da354(0x1aa)]),_0x42b381=mmin(mmax(_0x42b381,-puzzle[_0x4da354(0x21a)]/0x2),puzzle['contHeight']-1.5*puzzle[_0x4da354(0x21a)]),_0x2ade06[_0x4da354(0x183)](_0x3ea193,_0x42b381),_0x2ade06[_0x4da354(0x201)]();});}}return;}switch(state){case 0x0:state=0xa;break;case 0xa:if(!puzzle['imageLoaded'])return;puzzle[_0x2abc4b(0x1f3)]['innerHTML']='',tmpImage=document[_0x2abc4b(0x1ad)](_0x2abc4b(0x1dc)),tmpImage[_0x2abc4b(0x17e)]=puzzle[_0x2abc4b(0x1e1)]['src'],puzzle[_0x2abc4b(0x1e5)](),fitImage(tmpImage,puzzle[_0x2abc4b(0x1fd)]*0.95,puzzle[_0x2abc4b(0x1b1)]*0.95),tmpImage[_0x2abc4b(0x1ee)][_0x2abc4b(0x1a6)]=_0x2abc4b(0x1ff),puzzle[_0x2abc4b(0x1f3)][_0x2abc4b(0x227)](tmpImage),state=0xf;break;case 0xf:if(autoStart)_0x3d27db={'event':_0x2abc4b(0x1e8),'nbpieces':0xc};autoStart=![];if(!_0x3d27db)return;if(_0x3d27db[_0x2abc4b(0x1e3)]==_0x2abc4b(0x1e8))puzzle[_0x2abc4b(0x1f8)]=_0x3d27db[_0x2abc4b(0x1e8)],state=0x14;else{if(_0x3d27db[_0x2abc4b(0x1e3)]==_0x2abc4b(0x1b8)){state=0xa;return;}else return;}case 0x14:menu[_0x2abc4b(0x196)](),puzzle['create'](),puzzle[_0x2abc4b(0x1c8)](),puzzle[_0x2abc4b(0x1cb)][_0x2abc4b(0x18c)](_0x35a0c6=>{const _0x2b26d9=_0x2abc4b;_0x35a0c6[_0x2b26d9(0x201)](),_0x35a0c6[_0x2b26d9(0x186)]();}),puzzle[_0x2abc4b(0x1a4)][_0x2abc4b(0x1ee)][_0x2abc4b(0x1b6)]=puzzle[_0x2abc4b(0x194)]+'px',puzzle[_0x2abc4b(0x1a4)][_0x2abc4b(0x1ee)][_0x2abc4b(0x1c6)]=puzzle[_0x2abc4b(0x199)]+'px',puzzle[_0x2abc4b(0x1a4)][_0x2abc4b(0x1ee)][_0x2abc4b(0x1f4)]='block',state=0x19;break;case 0x19:puzzle['gameCanvas']['style'][_0x2abc4b(0x1f4)]=_0x2abc4b(0x17c),puzzle['polyPieces'][_0x2abc4b(0x18c)](_0x169e1c=>{const _0x3dbbe7=_0x2abc4b;_0x169e1c[_0x3dbbe7(0x1b4)]['classList'][_0x3dbbe7(0x1d1)](_0x3dbbe7(0x1c9));}),state=0x1e;break;case 0x1e:puzzle[_0x2abc4b(0x197)](),setTimeout(()=>events[_0x2abc4b(0x19c)]({'event':_0x2abc4b(0x1be)}),0x4b0),state=0x23;break;case 0x23:if(!_0x3d27db||_0x3d27db['event']!=_0x2abc4b(0x1be))return;puzzle[_0x2abc4b(0x1cb)][_0x2abc4b(0x18c)](_0x21b1c8=>{const _0x2c5806=_0x2abc4b;_0x21b1c8[_0x2c5806(0x1b4)]['classList']['remove'](_0x2c5806(0x1c9));}),state=0x32;break;case 0x32:if(!_0x3d27db)return;if(_0x3d27db[_0x2abc4b(0x1e3)]==_0x2abc4b(0x1e8)){puzzle['nbPieces']=_0x3d27db[_0x2abc4b(0x1e8)],state=0x14;return;}if(_0x3d27db[_0x2abc4b(0x1e3)]!=_0x2abc4b(0x1ea))return;moving={'xMouseInit':_0x3d27db[_0x2abc4b(0x212)]['x'],'yMouseInit':_0x3d27db[_0x2abc4b(0x212)]['y']};for(let _0x45cf40=puzzle['polyPieces']['length']-0x1;_0x45cf40>=0x0;--_0x45cf40){let _0x434271=puzzle[_0x2abc4b(0x1cb)][_0x45cf40];if(_0x434271[_0x2abc4b(0x206)][_0x2abc4b(0x1e0)](_0x434271['path'],_0x3d27db[_0x2abc4b(0x212)]['x']-_0x434271['x'],_0x3d27db['position']['y']-_0x434271['y'])){moving['pp']=_0x434271,moving[_0x2abc4b(0x1b5)]=_0x434271['x'],moving[_0x2abc4b(0x1cd)]=_0x434271['y'],puzzle['polyPieces'][_0x2abc4b(0x226)](_0x45cf40,0x1),puzzle[_0x2abc4b(0x1cb)][_0x2abc4b(0x19c)](_0x434271),_0x434271[_0x2abc4b(0x1b4)][_0x2abc4b(0x1ee)][_0x2abc4b(0x216)]=puzzle['zIndexSup'],state=0x37;return;}}break;case 0x37:if(!_0x3d27db)return;switch(_0x3d27db[_0x2abc4b(0x1e3)]){case _0x2abc4b(0x204):moving['pp'][_0x2abc4b(0x183)](_0x3d27db['position']['x']-moving[_0x2abc4b(0x1a2)]+moving[_0x2abc4b(0x1b5)],_0x3d27db[_0x2abc4b(0x212)]['y']-moving[_0x2abc4b(0x1d2)]+moving['ppYInit']);break;case'leave':let _0x4b3496;do{_0x4b3496=![];for(let _0x4259a4=puzzle[_0x2abc4b(0x1cb)][_0x2abc4b(0x18e)]-0x1;_0x4259a4>=0x0;--_0x4259a4){let _0x59bfcf=puzzle[_0x2abc4b(0x1cb)][_0x4259a4];if(_0x59bfcf==moving['pp'])continue;if(moving['pp'][_0x2abc4b(0x1bc)](_0x59bfcf)){_0x59bfcf[_0x2abc4b(0x1ba)]['length']>moving['pp'][_0x2abc4b(0x1ba)][_0x2abc4b(0x18e)]?(_0x59bfcf[_0x2abc4b(0x1de)](moving['pp']),moving['pp']=_0x59bfcf):moving['pp'][_0x2abc4b(0x1de)](_0x59bfcf);_0x4b3496=!![];break;}}}while(_0x4b3496);puzzle['evaluateZIndex'](),state=0x32;if(puzzle[_0x2abc4b(0x1cb)][_0x2abc4b(0x18e)]==0x1)state=0x3c;return;}break;case 0x3c:puzzle[_0x2abc4b(0x1f3)]['innerHTML']='',puzzle[_0x2abc4b(0x1e5)](),fitImage(tmpImage,puzzle[_0x2abc4b(0x1fd)]*0.95,puzzle[_0x2abc4b(0x1b1)]*0.95),tmpImage[_0x2abc4b(0x1ee)][_0x2abc4b(0x1a6)]=_0x2abc4b(0x1ff),tmpImage[_0x2abc4b(0x1ee)][_0x2abc4b(0x1c6)]=(puzzle[_0x2abc4b(0x1cb)][0x0]['x']+puzzle[_0x2abc4b(0x1aa)]/0x2+puzzle['gameWidth']/0x2)/puzzle[_0x2abc4b(0x1fd)]*0x64+'%',tmpImage['style'][_0x2abc4b(0x1b6)]=(puzzle[_0x2abc4b(0x1cb)][0x0]['y']+puzzle[_0x2abc4b(0x21a)]/0x2+puzzle['gameHeight']/0x2)/puzzle['contHeight']*0x64+'%',tmpImage[_0x2abc4b(0x1a7)][_0x2abc4b(0x1d1)](_0x2abc4b(0x1c9)),setTimeout(()=>tmpImage[_0x2abc4b(0x1ee)][_0x2abc4b(0x1b6)]=tmpImage['style'][_0x2abc4b(0x1c6)]=_0x2abc4b(0x19d),0x0),puzzle['container'][_0x2abc4b(0x227)](tmpImage),state=0x41,menu[_0x2abc4b(0x222)]();case 0x41:if(_0x3d27db&&_0x3d27db[_0x2abc4b(0x1e3)]=='nbpieces'){puzzle['nbPieces']=_0x3d27db['nbpieces'],state=0x14;return;}break;case 0x270f:break;default:let _0x50f727=state;state=0x270f;throw _0x2abc4b(0x17b)+_0x50f727;}};}let menu=(function(){const _0x4fe3e4=_0x25a489;let _0x421aa4={'items':[]};document[_0x4fe3e4(0x181)](_0x4fe3e4(0x1d0))[_0x4fe3e4(0x18c)](_0xdb5204=>{const _0x423bef=_0x4fe3e4;let _0x25f484=_0x421aa4[_0x423bef(0x1c3)][_0x423bef(0x18e)],_0x4f6cf9={'element':_0xdb5204,'kItem':_0x25f484};_0x421aa4['items'][_0x25f484]=_0x4f6cf9;}),_0x421aa4['open']=function(){const _0x4be419=_0x4fe3e4;_0x421aa4['items'][_0x4be419(0x18c)](_0x5a9405=>_0x5a9405['element'][_0x4be419(0x1ee)]['display']=_0x4be419(0x1bd)),_0x421aa4[_0x4be419(0x200)]=!![];},_0x421aa4[_0x4fe3e4(0x196)]=function(){const _0x3c8b63=_0x4fe3e4;_0x421aa4[_0x3c8b63(0x1c3)][_0x3c8b63(0x18c)]((_0x26d51a,_0x3a5e02)=>{const _0x4b57a4=_0x3c8b63;if(_0x3a5e02>0x0)_0x26d51a['element'][_0x4b57a4(0x1ee)][_0x4b57a4(0x1f4)]=_0x4b57a4(0x17c);}),_0x421aa4[_0x3c8b63(0x200)]=![];},_0x421aa4[_0x4fe3e4(0x1c3)][0x0][_0x4fe3e4(0x185)][_0x4fe3e4(0x1af)]('click',()=>{const _0x2c2de2=_0x4fe3e4;if(_0x421aa4['opened'])_0x421aa4[_0x2c2de2(0x196)]();else _0x421aa4[_0x2c2de2(0x222)]();}),_0x421aa4[_0x4fe3e4(0x1c3)][0x1][_0x4fe3e4(0x185)]['addEventListener'](_0x4fe3e4(0x1db),loadInitialFile),_0x421aa4['items'][0x2][_0x4fe3e4(0x185)][_0x4fe3e4(0x1af)](_0x4fe3e4(0x1db),loadFile),_0x421aa4[_0x4fe3e4(0x1c3)][0x3]['element'][_0x4fe3e4(0x1af)](_0x4fe3e4(0x1db),()=>{});for(let _0x3401b6=0x4;_0x3401b6<_0x421aa4[_0x4fe3e4(0x1c3)][_0x4fe3e4(0x18e)];++_0x3401b6){_0x421aa4[_0x4fe3e4(0x1c3)][_0x3401b6][_0x4fe3e4(0x185)]['addEventListener'](_0x4fe3e4(0x1db),()=>events[_0x4fe3e4(0x19c)]({'event':'nbpieces','nbpieces':[0xc,0x19,0x32,0x64,0xc8][_0x3401b6-0x4]}));}return _0x421aa4;}());menu[_0x25a489(0x196)](),window['addEventListener'](_0x25a489(0x18a),_0x7ea986=>{const _0xaaeebf=_0x25a489;if(events[_0xaaeebf(0x18e)]&&events[events['length']-0x1][_0xaaeebf(0x1e3)]==_0xaaeebf(0x18a))return;;events['push']({'event':_0xaaeebf(0x18a)});}),puzzle=new Puzzle({'container':_0x25a489(0x1ac)}),autoStart=isMiniature(),loadInitialFile(),requestAnimationFrame(animate);